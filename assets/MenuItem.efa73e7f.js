import{u as O,a as z,c as i,r as A,b as d,d as s,e as f,t as l,f as c,n as C,F as h,g as $,h as V,w as v,v as L,i as P,o as r,j as E,k as q,l as G,m as J,p as K}from"./index.ce65a819.js";import{T as Q}from"./TopToHome.efbe3b19.js";const W={class:"p-2 pt-3 h-100"},X={class:"item-Info p-2 row m-0"},Y={class:"col-7"},Z={class:"title fw-semibold"},ss={class:"price-box d-flex"},es={class:"info"},ts=s("div",{class:"col d-flex align-items-center"},[s("img",{class:"w-100 rounded",src:"https://fakeimg.pl/200/"})],-1),os={key:0,class:"my-1"},ns=s("label",{class:"form-label mb-0"},"\u8FA3\u5EA6",-1),as={class:"form-control"},cs=["value","id"],is=["for"],ls={key:1,class:"my-1"},ds=s("label",{class:"form-label mb-0"},"\u52A0\u6599",-1),rs={class:"form-control"},ms=["id","value"],ps=["for"],us={class:"price ms-2"},_s={class:"my-1"},vs=s("label",{class:"form-label mb-0"},"\u7279\u6B8A\u9700\u6C42",-1),bs={class:"actions position-sticky bottom-0 p-2 bg-light"},fs={class:"mb-2 row text-center align-items-center mx-0"},hs={class:"btn badge badge-pill text-bg-primary p-2"},ys={class:"col"},gs={class:"btn badge badge-pill text-bg-primary p-2"},xs=P("\u52A0\u5165\u8CFC\u7269\u8ECA"),ks={class:"pb-0 mb-0"},Is={class:"badge badge-lg ms-2 text-bg-light"},Vs={__name:"MenuItem",setup(ws){const T=O(),y=z(),M=G(),g=K(),S=i(()=>{var e;return+((e=g.params)==null?void 0:e.typeId)}),U=i(()=>{var e;return+((e=g.params)==null?void 0:e.itemId)}),a=y.showItem(+S.value,+U.value),b=i(()=>{var e;return(e=a==null?void 0:a.option)==null?void 0:e.spicyLevels}),x=i(()=>{var e;return(e=a==null?void 0:a.option)==null?void 0:e.addItems}),{id:D,name:N,type:k,price:B}=a,u=y.getPrice({type:k,price:B}),_=i(()=>u!==a.price),R=i(()=>({"text-decoration-line-through":_.value,"text-secondary":_.value})),j=i(()=>({"d-none":!_.value,"text-success":_.value})),n=A({id:D,name:N,type:k,price:u,amount:1,special:"",option:a.option?{spicyLevel:b.value.find(e=>e.isDefault).name,addItems:[]}:null}),I=e=>{const o=n.amount+e;n.amount=o<1?1:o},w=i(()=>{var p;const e=((p=n==null?void 0:n.option)==null?void 0:p.addItems.reduce((t,m)=>t+ +m.price,0))||0,o=u+e;return n.amount*o}),F=()=>{const e={...n,totalPrice:w.value,price:a.price};T.addToCart(e),M.push({name:"Home"})};return(e,o)=>{const p=J("icon");return r(),d(h,null,[s("div",W,[f(Q),s("div",X,[s("div",Y,[s("h4",Z,l(c(a).name),1),s("div",ss,[s("h5",{class:C(["price fw-semibold",c(R)])},"$"+l(c(a).price),3),s("h4",{class:C(["price ms-1 fw-semibold",c(j)])},"$"+l(c(u)),3)]),s("div",es,l(c(a).info),1)]),ts]),c(b)?(r(),d("div",os,[ns,s("div",as,[(r(!0),d(h,null,$(c(b),t=>(r(),d("div",{class:"form-check",key:t.id},[v(s("input",{class:"form-check-input","onUpdate:modelValue":o[0]||(o[0]=m=>n.option.spicyLevel=m),type:"radio",value:t.name,id:`spicy-${t.id}`},null,8,cs),[[E,n.option.spicyLevel]]),s("label",{class:"form-check-label",for:`spicy-${t.id}`},l(t.name),9,is)]))),128))])])):V("",!0),c(x)?(r(),d("div",ls,[ds,s("div",rs,[(r(!0),d(h,null,$(c(x),(t,m)=>(r(),d("div",{class:"form-check",key:t.id},[v(s("input",{class:"form-check-input",type:"checkbox",id:`add-${m+1}`,value:t,"onUpdate:modelValue":o[1]||(o[1]=H=>n.option.addItems=H)},null,8,ms),[[q,n.option.addItems]]),s("label",{class:"form-check-label d-flex",for:`add-${m+1}`},[P(l(t.name),1),s("div",us,"$"+l(t.price),1)],8,ps)]))),128))])])):V("",!0),s("div",_s,[vs,v(s("textarea",{class:"form-control","onUpdate:modelValue":o[2]||(o[2]=t=>n.special=t)},null,512),[[L,n.special]])])]),s("div",bs,[s("div",fs,[s("div",{class:"col",onClick:o[3]||(o[3]=t=>I(-1))},[s("div",hs,[f(p,{icon:["fas","fa-minus"]})])]),s("div",ys,[v(s("input",{class:"form-control amount-input",type:"number",min:"1","onUpdate:modelValue":o[4]||(o[4]=t=>n.amount=t)},null,512),[[L,n.amount]])]),s("div",{class:"col",onClick:o[5]||(o[5]=t=>I(1))},[s("div",gs,[f(p,{icon:["fas","fa-plus"]})])])]),s("button",{class:"btn btn-primary w-100 d-flex justify-content-center align-items-center",onClick:F},[xs,s("h3",ks,[s("span",Is,"$"+l(c(w)||0),1)])])])],64)}}};export{Vs as default};
